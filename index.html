<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css" />
    <link rel="stylesheet" href="css/sty.css"/>
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/jquery.mobile-1.4.5.min.js"></script>
    <title></title>
</head>
<body>
<div data-role="page" id="index">
    <div data-role="header">
        <div class="ui-btn-1m">
            <h1 class="head-title">良药宝典</h1>
        </div>
    </div>
    <img class="thumbnail" src="img/drug8_new.png" alt="" height="100%" width="100%">




    <div data-role="main" class="ui-content">
        <div>
            <h3>良药套餐列表</h3>
            <h4>个体化用药管理系统，具有核心技术的精准用药解决方案。</h4>
        </div>

        <form method="post" action="demoform.php">
            <fieldset data-role="controlgroup">
                <legend>请选择套餐：</legend>
                <label for="meal">全项药物筛查（女）</label>
                <input type="checkbox" name="favcolor" data-collapsed="true" value="2000" id="meal" class="menu" data-name="全项药物筛查（女）">
                <label for="male">全项药物筛查（男）</label>
                <input type="checkbox" name="favcolor" id="male" value="5000" class="menu"  data-name="全项药物筛查（男）">
                <label for="baby">婴童专用药筛查</label>
                <input type="checkbox" name="favcolor" id="baby" value="4000" class="menu"  data-name="婴童专用药筛查">
                <label for="age">老年病用药筛查</label>
                <input type="checkbox" name="favcolor" id="age" value="4000" class="menu"  data-name="老年病用药筛查">
                <label for="multi">多类常用药筛查</label>
                <input type="checkbox" name="favcolor" id="multi" value="5000" class="menu"  data-name="多类常用药筛查">
                <label for="high">三高类（血压血脂血糖）</label>
                <input type="checkbox" name="favcolor" id="high" value="1000" class="menu"  data-name="三高类（血压血脂血糖）">
                <label for="antibiotic">抗生素类</label>
                <input type="checkbox" name="favcolor" id="antibiotic" value="4000" class="menu"  data-name="抗生素类">
                <label for="anaesthesia">麻醉类</label>
                <input type="checkbox" name="favcolor" id="anaesthesia" value="4000" class="menu"  data-name="麻醉类">
            </fieldset>
            <!--<input type="submit" data-inline="true" value="提交">-->
        </form>
        </br>
        <hr>




        <div data-role="main" class="form">
            <form action="" >
                <h3>个人信息填写</h3>
                <p>为保证服务质量，请如实填写每一项信息</p>
                <div class="form-group">
                    <label><span class="red">&nbsp;*&nbsp;</span>姓名：</label>
                    <input id="name" type="text">
                </div>
                <div class="form-group">
                    <label><span class="red">&nbsp;*&nbsp;</span>联系电话：</label>
                    <input id="phone" type="text">
                </div>
                <div class="form-group">
                    <label><span class="red">&nbsp;*&nbsp;</span>身份证号：</label>
                    <input id="identity" type="text">
                </div>
                <div class="form-group">
                    <label class="label-textarea"><span class="red">&nbsp;*&nbsp;</span>邮寄地址：</label>
                    <textarea type="text" name="a" id="a" onkeyup="document.getElementById('b').value=this.value" onblur="document.getElementById('b').value=this.value"></textarea>
                </div>
            </form>
            </br>
            <hr>

            <form id="userInfo">
                <div class="info">
                    <h4>被检测人信息</h4>
                    <label>姓名：</label>
                    <input type="text" name="fullname" class="name">

                    <label>性别：</label>
                    <select name="sex" class="sex">
                        <option value="#">请选择</option>
                        <option value="0">男</option>
                        <option value="1">女</option>
                    </select>

                    <label><span class="red">&nbsp;*&nbsp;</span>是否有身份证：</label>
                    <select name="idCard" class="idCard">
                        <option value="#">请选择</option>
                        <option value="yes">是</option>
                        <option value="no">否</option>
                    </select>

                    <label><span class="red">&nbsp;*&nbsp;</span>样本信息：</label>
                    <select name="info" class="info">
                        <option value="#">请选择</option>
                        <option value="kqlm">口腔黏膜</option>
                        <option value="qdx">脐带血</option>
                    </select>
                    <div class="ui-btn-6m">
                    <span class="red">&nbsp;*&nbsp;</span>
                    邮寄地址：
                    <span class="right"><input type="checkbox" class="addressInput"/>自定义邮寄地址</span>
                    </div>
                    <!--<label class="label-textarea">
                        <span class="red">&nbsp;*&nbsp;</span>
                        邮寄地址：
                        <span class="right"><input type="checkbox" class="addressInput"/>自定义邮寄地址</span>
                    </label>-->
                    <textarea type="text" name="textarea" class="address"></textarea>
                </div>


            </form>

            <button class="btn btn-md btn-purple ml-20" id="addUserInfo" type="button">添加检测人</button>

            <h4>已选套餐</h4>
            <div id="tc-price"></div>

            <hr>

            <div class="ui-btn-2m">
                <input type="checkbox" id="agree"/>我已阅读并同意<a href="html/zhiqingshu.html">《知情同意书》</a>
            </div>
        </div>






    </div>

    <div data-role="footer" data-position="fixed">
        <span class="meal-price"></span>
        <span class="next-btn">提交订单</span>
    </div>
</div>
<script src="js/lodash.js"></script>
<script src="js/index.js"></script>
<script>
    function isChinaName(name) {
        var pattern = /^[\u4E00-\u9FA5]{1,6}$/;
        return pattern.test(name);
    }

    // 验证手机号
    function isPhoneNo(phone) {
        var pattern = /^1[34578]\d{9}$/;
        return pattern.test(phone);
    }

    // 验证身份证
    function isCardNo(card) {
        var pattern = /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;
        return pattern.test(card);
    }

    // 验证函数
    function formValidate() {
        var str = '';

        // 判断名称
        if($.trim($('#name').val()).length == 0) {
            str += '名称没有输入\n';
            $('#name').focus();
        } else {
            if(isChinaName($.trim($('#name').val())) == false) {
                str += '名称不合法\n';
                $('#name').focus();
            }
        }

        // 判断手机号码
        if ($.trim($('#phone').val()).length == 0) {
            str += '手机号没有输入\n';
            $('#phone').focus();
        } else {
            if(isPhoneNo($.trim($('#phone').val()) == false)) {
                str += '手机号码不正确\n';
                $('#phone').focus();
            }
        }

        // 验证身份证
        if($.trim($('#identity').val()).length == 0) {
            str += '身份证号码没有输入\n';
            $('#identity').focus();
        } else {
            if(isCardNo($.trim($('#identity').val())) == false) {
                str += '身份证号不正确；\n';
                $('#identity').focus();
            }
        }

        // 验证地址
        if($.trim($('#address').val()).length == 0) {
            str += '地址没有输入\n';
            $('#address').focus();
        }

        // 如果没有错误则提交
        if(str != '') {
            alert(str);
            return false;
        } else {
            $('.auth-form').submit();
        }
    }

    $('#submit').on('click', function() {
        formValidate();
    });

</script>
</body>

</html>
